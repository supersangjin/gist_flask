{% extends "common/layout.html" %}
{% from "common/_form_macros.html" import render_field %}

{% block content %}

<div class="editor-wrapper markdown-body">
  <form action="{{ url_for('articles.write_article') }}" id="formMd" method="post">
    {{ form.csrf_token }}

    <div class="form-group">
      {{ render_field(form.article_title, class="title", type="text", id="title", placeholder="Title") }}
    </div>
    <div class="form-group">
      {{ render_field(form.article_category, class="form-control", id="category", placeholder="Title") }}
    </div>
    <textarea name="article_context" id="context" placeholder="Content here ...."></textarea>
      {{ simplemde.load }}
    <button class="btn btn-sm btn-success" name="submit" type="submit">Submit</button>
  </form>
</div>

<script>
  document.getElementById("formMd").onsubmit = function () {
    if (!document.getElementById("title").value) {
        alert('Article title missing');
        return false;
    }
    if (!document.getElementById("context").value) {
        alert('Article context missing');
        return false;
    }
  }
</script>

{% endblock %}